{% extends 'canteen/manage_base.html' %}

{% load thumbnail %}

{% block title %}Editing {{ form.name.value|title }}{% endblock %}

{% block header %}Editing {{ form.name.value|title }}{% endblock %}

{% block style %}
<style>
    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    #image {
        display: flex;
        justify-content: right;
        flex-direction: column;
        width: 40%;
    }

    #flex-cont {
        display: flex;
    }

    #form {
        width: 60%;
    }

    @media (max-width: 425px) {
        #flex-cont {
            flex-direction: column;
        }

        #form {
            width: 100%;
        }

        #image {
            width: 100%;
            height: 200px;
        }
    }
</style>
{% endblock %}

{% block content %}
<article class="w3-container w3-margin-top w3-padding-top">
    <div class="w3-content">
        <h2>Please fill in the form</h2>
        <p>Make sure that you input correct information about the dish.</p>
    </div>
    <div id="flex-cont" class="w3-content">
        <div id="image">
            {% thumbnail form.photo.value "500x500" crop="center" as im %}
            <img class="w3-round-large w3-border w3-border-green" src="{{ im.url }}">
            {% endthumbnail %}
        </div>
        <form enctype="multipart/form-data" method="POST" action="" style="flex-grow: 8" class="w3-padding">
            {% csrf_token %}
            <div class="w3-white w3-padding-16 w3-round-large">
                <label for="name">Name:</label>
                {{ form.name }}
                <label for="price">Price:</label>
                {{ form.price }}
                <label for="description">Description:</label>
                {{ form.description }}
                <label for="photo">Change photo:</label><br />
                <input type="file" name="photo" accept="image/*" id="id_photo">
                <label class="container">Sold out
                    <input type="checkbox" id="id_sold_out" name="sold_out"
                        {% if form.sold_out.value %}checked="checked" {% endif %}>
                    <span class="checkmark"></span>
                </label>
            </div>
            <hr />
            <div class="w3-right w3-margin-top w3-margin-bottom">
                <a href="{% url 'canteen:manage' %}" class="w3-button w3-border w3-round-xxlarge">
                    <i class="fas fa-arrow-alt-circle-left"></i> Go back</a>
                <button type="submit" class="w3-button w3-green w3-round-xxlarge">
                    <i class="fas fa-save"></i> Save
                </button>
            </div>
        </form>
    </div>
</article>
{% endblock %}